一、Java的stream
Java中的 Stream API，引入于Java 8，是一种高级的集合操作框架，允许以声明式方式处理数据集合。这种编程范式专注于对数据集的操作和转换，如过滤、映射、排序、聚合等。Stream 提供了一套丰富的方法来支持这些操作，能够以函数式编程风格轻松处理集合和数组。特别地，Stream 可以是串行的或并行的，后者利用Java的并发框架来对数据进行并行处理，从而在多核处理器上提高性能。Stream 的这些特性使其成为处理集合数据的强大工具，特别是在需要链式调用多个操作时。此外，Stream 一经使用后便不能重用，确保了其操作的一次性和及时性
二、stream的特点
增强的可读性和维护性 :  Stream 代码通常更易于阅读和维护，在业务代码里面经常使用，建议深入学习。
声明式编程风格 :  Stream 提供了一种高级、声明式的编程方式，允许以更简洁、易读的形式对集合进行操作，如过滤、映射、排序和聚合等。
支持函数式编程 :  Stream API 大量使用了Lambda表达式，支持函数式编程风格，让你能够写出更简洁、更灵活的代码。
链式调用 :  Stream 操作可以以链式调用的方式组合起来，形成一个操作流水线，使得代码更加直观和紧凑。
无存储 :  Stream 本身不存储元素。它们从源（如集合或数组）获取数据，然后在管道操作（如过滤或映射）中处理这些数据。
懒执行 :  Stream 操作通常是懒执行的，这意味着它们只在必要时才进行计算，这可以提高效率，特别是在处理大型数据集时。
并行能力 :  Stream 可以非常简单地转换为并行模式，这使得对数据的并行处理变得易如反掌，有助于在多核处理器上提高性能。
只能遍历一次 :  Stream 一旦被遍历，就不能再次被遍历。使用完 Stream 后，它就会被关闭。
强大的操作集 :  Stream 提供了丰富的操作集，包括 filter、map、reduce、collect、sorted 等，用于数据的处理和转换。
优化执行 :  Stream API 优化了执行流程，只在必要时才进行计算，减少了不必要的计算和资源消耗。
三、stream的注意事项
避免副作用 :  Stream 操作应该避免副作用，特别是在使用 map、filter 等中间操作时。Stream 应该用于计算而非改变状态。
只能遍历一次 :  一个 Stream 只能被消费（遍历）一次。一旦进行了终止操作，比如 collect、forEach 或 reduce，该 Stream 就被视为已消费，并且不能再次使用。
注意线程安全 :  在并行 Stream 中使用非线程安全的集合或方法可能导致不确定的行为。确保在并行 Stream 中使用的数据结构和操作是线程安全的。
有序操作的性能影响 :  对于并行 Stream，维持元素顺序（比如使用 sorted 或 forEachOrdered 方法）可能会降低并行处理的效率。
谨慎使用长链条的流操作 :  虽然链式调用使代码更简洁，但过长的链条可能会影响可读性和调试的难度。
合理使用短路操作 :  Stream 提供了一些短路操作（如 anyMatch、findFirst、limit），它们可以提前终止流的处理，这在处理无限流或大数据集时特别有用。
谨慎管理状态ful操作 :  状态ful（状态相关）的中间操作（如 distinct、sorted）可能需要处理整个输入，在并行流中这可能会降低性能。
使用合适的收集器 :  了解和选择最适合你需求的收集器（如 toList、toSet、toMap 等），可以提高代码的清晰度和效率。
避免不必要的自动装箱 :  自动装箱和拆箱操作可能影响性能。使用原始类型流（如 IntStream、LongStream）可以避免这种开销。
适当使用闭包资源 :  当流操作涉及到必须关闭的资源（如文件流）时，使用 try-with-resources 或 Stream 的 onClose 方法确保资源被正确关闭。

###Stream的中间操作

中间操作，每次返回一个新的流，可以有多个。（筛选filter、映射map、排序sorted、去重组合skip—limit）
终端操作，每个流只能进行一次终端操作，终端操作结束后流无法再次使用。终端操作会产生一个新的集合或值。（遍历foreach、匹配find–match、规约reduce、聚合max–min–count、收集collect）